# Project Chimera — 名詞解釋與概念說明

**版本**：v1.0  
**目標**：提供 Project Chimera 系統中所有專業術語、概念、縮寫的詳細解釋，幫助開發團隊和相關人員快速理解系統架構和業務邏輯。

---

## 📋 目錄

1. [系統架構相關](#系統架構相關)
2. [服務與模組](#服務與模組)
3. [交易相關術語](#交易相關術語)
4. [技術指標與算法](#技術指標與算法)
5. [風險管理](#風險管理)
6. [數據存儲與流](#數據存儲與流)
7. [API 與接口](#api-與接口)
8. [監控與運維](#監控與運維)
9. [縮寫對照表](#縮寫對照表)

---

## 系統架構相關

### **微服務架構 (Microservices Architecture)**
- **定義**：將單一應用程式分解為多個小型、獨立部署的服務
- **在 Project Chimera 中的應用**：12 個獨立服務（S1-S12），每個服務負責特定功能領域
- **優點**：獨立擴展、技術棧多樣化、故障隔離

### **事件驅動架構 (Event-Driven Architecture)**
- **定義**：服務間通過事件進行通信，而非直接調用
- **在 Project Chimera 中的應用**：使用 Redis Streams 實現異步事件通信
- **優點**：解耦、可擴展性、容錯性

### **API Gateway (API 網關)**
- **定義**：作為所有客戶端請求的單一入口點
- **在 Project Chimera 中的應用**：S12 Web UI / API Gateway
- **功能**：路由、認證、限流、監控

---

## 服務與模組

### **S1 - Exchange Connectors (交易所連接器)**
- **定義**：負責與外部交易所（如 Binance）進行通信的服務
- **主要功能**：
  - WebSocket 連接管理
  - 市場數據接收
  - 訂單執行
  - 資金劃轉
- **關鍵概念**：
  - **心跳機制**：定期發送 ping/pong 保持連接
  - **自動重連**：連接中斷時的自動恢復機制

### **S2 - Feature Generator (特徵生成器)**
- **定義**：將原始市場數據轉換為機器學習和策略決策所需的特徵
- **主要功能**：
  - ATR (Average True Range) 計算
  - 實現波動率 (Realized Volatility) 計算
  - 相關性分析
  - 深度分析
- **關鍵概念**：
  - **特徵工程**：從原始數據中提取有意義的特徵
  - **時間對齊**：確保不同數據源的時間一致性

### **S3 - Strategy Engine (策略引擎)**
- **定義**：核心決策引擎，負責生成交易信號和訂單意圖
- **主要功能**：
  - L0 守門員：風險檢查
  - L1 規則引擎：基於 DSL 的規則執行
  - L2 ML 模型：機器學習預測
- **關鍵概念**：
  - **守門員 (Gatekeeper)**：在執行前進行風險和合規檢查
  - **DSL (Domain Specific Language)**：領域特定語言，用於定義交易規則

### **S4 - Order Router (訂單路由器)**
- **定義**：負責將策略信號轉換為實際的交易所訂單
- **主要功能**：
  - 訂單類型選擇（市價、限價、OCO）
  - TWAP (Time-Weighted Average Price) 執行
  - 智能執行（Maker→Taker）
- **關鍵概念**：
  - **TWAP**：時間加權平均價格，將大單拆分為多個小單
  - **Maker/Taker**：Maker 提供流動性，Taker 消耗流動性

### **S5 - Reconciler (對帳器)**
- **定義**：負責確保系統內部狀態與交易所狀態的一致性
- **主要功能**：
  - 訂單狀態對比
  - 倉位對比
  - 差異處理
- **關鍵概念**：
  - **Jaccard 一致率**：衡量兩個集合相似度的指標
  - **孤兒訂單**：系統中存在但交易所中不存在的訂單

### **S6 - Position Manager (倉位管理器)**
- **定義**：管理所有持倉的服務，包括止損、止盈、加倉等操作
- **主要功能**：
  - 移動停損 (Trailing Stop)
  - 分批止盈
  - 加倉邏輯
  - 資金管理
- **關鍵概念**：
  - **ROE (Return on Equity)**：股權回報率
  - **WAC (Weighted Average Cost)**：加權平均成本

### **S7 - Label Backfill (標籤回填)**
- **定義**：為歷史交易信號計算真實的盈虧標籤
- **主要功能**：
  - 12/24/36 小時標籤計算
  - 淨利潤計算
  - 標籤回寫
- **關鍵概念**：
  - **標籤 (Label)**：機器學習中的目標變量
  - **回填 (Backfill)**：為歷史數據補充標籤

### **S8 - Autopsy Generator (復盤生成器)**
- **定義**：生成交易復盤報告，分析交易表現
- **主要功能**：
  - TCA (Transaction Cost Analysis) 分析
  - Peer 對比
  - 反事實分析
- **關鍵概念**：
  - **TCA**：交易成本分析
  - **反事實 (Counterfactual)**：假設不同條件下的結果

### **S9 - Hypothesis Orchestrator (假設協調器)**
- **定義**：管理實驗和回測的服務
- **主要功能**：
  - Walk-Forward 回測
  - 統計檢定
  - 實驗管理
- **關鍵概念**：
  - **Walk-Forward**：滾動窗口回測方法
  - **FDR (False Discovery Rate)**：錯誤發現率控制

### **S10 - Config Service (配置服務)**
- **定義**：管理系統配置的中央服務
- **主要功能**：
  - 配置版本管理
  - 熱加載
  - 模擬和敏感度分析
- **關鍵概念**：
  - **Bundle**：配置包
  - **Canary**：金絲雀部署
  - **RCU (Read-Copy-Update)**：讀-複製-更新機制

### **S11 - Metrics & Health (指標與健康度)**
- **定義**：監控系統健康狀態和關鍵指標
- **主要功能**：
  - SLI/SLO 監控
  - 健康度計算
  - 告警管理
- **關鍵概念**：
  - **SLI (Service Level Indicator)**：服務水平指標
  - **SLO (Service Level Objective)**：服務水平目標

### **S12 - Web UI / API Gateway (Web UI / API 網關)**
- **定義**：前端界面和 API 網關
- **主要功能**：
  - 用戶界面
  - API 代理
  - RBAC (Role-Based Access Control)
  - Kill Switch
- **關鍵概念**：
  - **RBAC**：基於角色的訪問控制
  - **Kill Switch**：緊急停止機制

---

## 交易相關術語

### **FUT (Futures)**
- **定義**：期貨合約交易
- **特點**：槓桿交易、保證金制度、到期結算

### **SPOT (Spot)**
- **定義**：現貨交易
- **特點**：即時交割、無槓桿、實物資產

### **OCO (One-Cancels-Other)**
- **定義**：一鍵取消其他訂單
- **用途**：同時設置止盈和止損訂單

### **Maker/Taker**
- **Maker**：提供流動性的訂單（限價單）
- **Taker**：消耗流動性的訂單（市價單）
- **費用差異**：Maker 通常有手續費折扣

### **TWAP (Time-Weighted Average Price)**
- **定義**：時間加權平均價格執行
- **目的**：減少市場衝擊，降低滑價

### **滑價 (Slippage)**
- **定義**：實際成交價格與預期價格的差異
- **計算**：$\text{slip\_bps} = dir \cdot \frac{P_{\text{fill}}-P_{\text{mid@send}}}{P_{\text{mid@send}}} \cdot 10^4$

### **資金費率 (Funding Rate)**
- **定義**：永續合約的資金費用
- **用途**：維持期貨價格與現貨價格的平衡

---

## 技術指標與算法

### **ATR (Average True Range)**
- **定義**：平均真實波幅
- **計算**：$ATR_t=\alpha \cdot TR_t+(1-\alpha) \cdot ATR_{t-1}$
- **用途**：衡量市場波動性，用於停損設置

### **True Range (TR)**
- **定義**：真實波幅
- **計算**：$TR_t=\max\{H_t-L_t, |H_t-C_{t-1}|, |L_t-C_{t-1}|\}$

### **實現波動率 (Realized Volatility)**
- **定義**：基於歷史價格變動計算的波動率
- **用途**：風險管理和策略調整

### **相關係數 (Correlation)**
- **定義**：衡量兩個變量之間線性關係的強度
- **計算**：$\rho=\frac{\sum (x-\bar x)(y-\bar y)}{\sqrt{\sum(x-\bar x)^2}\sqrt{\sum(y-\bar y)^2}}$

### **百分位排名 (Percentile Rank)**
- **定義**：某個值在數據集中的相對位置
- **計算**：$\text{PctRank}(X)=\frac{C_L+0.5C_E}{N}$

### **ROE (Return on Equity)**
- **定義**：股權回報率
- **計算**：$\text{ROE}=\frac{\text{PnL}}{\text{isolated\_margin}}$

---

## 風險管理

### **風險預算 (Risk Budget)**
- **定義**：系統允許的最大風險敞口
- **組成**：
  - 總保證金上限
  - 單一市場併發限制
  - 單筆交易風險上限

### **併發限制 (Concurrency Limit)**
- **定義**：同時進行的交易數量限制
- **目的**：控制風險集中度

### **止損 (Stop Loss)**
- **定義**：當價格不利時自動平倉的機制
- **類型**：
  - 固定止損
  - 移動止損 (Trailing Stop)
  - ATR 止損

### **止盈 (Take Profit)**
- **定義**：當價格有利時自動平倉的機制
- **類型**：
  - 固定止盈
  - 分批止盈

### **槓桿 (Leverage)**
- **定義**：借入資金與自有資金的比例
- **風險**：放大收益和損失

### **保證金 (Margin)**
- **定義**：維持持倉所需的最低資金
- **類型**：
  - 初始保證金
  - 維持保證金

---

## 數據存儲與流

### **Redis Streams**
- **定義**：Redis 的流數據結構
- **用途**：事件驅動通信
- **特點**：持久化、有序、可重放

### **ArangoDB**
- **定義**：多模型數據庫
- **用途**：文檔存儲、圖數據、鍵值對
- **特點**：ACID 事務、靈活模式

### **Collections (集合)**
- **定義**：ArangoDB 中的數據容器
- **類型**：
  - 文檔集合
  - 邊集合（用於圖數據）

### **冪等性 (Idempotency)**
- **定義**：多次執行相同操作產生相同結果
- **實現**：使用冪等鍵 (Idempotency Key)

### **分散鎖 (Distributed Lock)**
- **定義**：在分散式系統中實現互斥的機制
- **用途**：防止併發操作衝突

---

## API 與接口

### **REST API**
- **定義**：基於 HTTP 的 API 設計風格
- **特點**：無狀態、資源導向

### **WebSocket**
- **定義**：全雙工通信協議
- **用途**：實時數據推送

### **gRPC**
- **定義**：高性能的 RPC 框架
- **特點**：基於 HTTP/2、Protocol Buffers

### **OpenAPI**
- **定義**：API 規範標準
- **用途**：API 文檔生成、代碼生成

---

## 監控與運維

### **SLI (Service Level Indicator)**
- **定義**：服務水平指標
- **例子**：成功率、延遲、吞吐量

### **SLO (Service Level Objective)**
- **定義**：服務水平目標
- **例子**：成功率 ≥ 99.5%，延遲 p95 ≤ 800ms

### **SLA (Service Level Agreement)**
- **定義**：服務水平協議
- **內容**：SLO + 違約後果

### **健康度 (Health Status)**
- **定義**：系統整體健康狀態
- **等級**：GREEN、YELLOW、ORANGE、RED

### **告警 (Alert)**
- **定義**：異常情況的通知機制
- **級別**：INFO、WARN、ERROR、FATAL

### **Kill Switch**
- **定義**：緊急停止機制
- **用途**：系統異常時快速停止交易

---

## 縮寫對照表

| 縮寫 | 全稱 | 中文 | 說明 |
|------|------|------|------|
| API | Application Programming Interface | 應用程式介面 | 軟體組件間的通信接口 |
| ATR | Average True Range | 平均真實波幅 | 技術分析指標 |
| AUC | Area Under Curve | 曲線下面積 | 機器學習模型評估指標 |
| Brier | Brier Score | 布賴爾分數 | 概率預測準確性指標 |
| CAGR | Compound Annual Growth Rate | 複合年增長率 | 投資回報率指標 |
| CI/CD | Continuous Integration/Continuous Deployment | 持續整合/持續部署 | 軟體開發流程 |
| DSL | Domain Specific Language | 領域特定語言 | 針對特定領域的程式語言 |
| FDR | False Discovery Rate | 錯誤發現率 | 統計學中的多重比較控制 |
| FUT | Futures | 期貨 | 衍生性金融商品 |
| gRPC | Google Remote Procedure Call | Google 遠程過程調用 | 高性能 RPC 框架 |
| HTTP | HyperText Transfer Protocol | 超文本傳輸協議 | 網路通信協議 |
| IB | Insufficient Balance | 餘額不足 | 交易錯誤類型 |
| JWT | JSON Web Token | JSON 網路令牌 | 身份驗證標準 |
| K8s | Kubernetes | Kubernetes | 容器編排平台 |
| L0/L1/L2 | Level 0/1/2 | 第0/1/2層 | 策略引擎的層級架構 |
| ML | Machine Learning | 機器學習 | 人工智慧分支 |
| OCO | One-Cancels-Other | 一鍵取消其他 | 訂單類型 |
| p95 | 95th Percentile | 第95百分位數 | 統計學指標 |
| PnL | Profit and Loss | 損益 | 財務術語 |
| RBAC | Role-Based Access Control | 基於角色的訪問控制 | 權限管理模型 |
| RCU | Read-Copy-Update | 讀-複製-更新 | 並發控制機制 |
| REST | Representational State Transfer | 表現層狀態轉換 | API 設計風格 |
| ROE | Return on Equity | 股權回報率 | 財務指標 |
| RV | Realized Volatility | 實現波動率 | 風險指標 |
| SLI | Service Level Indicator | 服務水平指標 | 監控指標 |
| SLO | Service Level Objective | 服務水平目標 | 服務目標 |
| SPOT | Spot | 現貨 | 即時交割交易 |
| TCA | Transaction Cost Analysis | 交易成本分析 | 交易分析 |
| TP | Take Profit | 止盈 | 交易策略 |
| TR | True Range | 真實波幅 | 技術分析指標 |
| TWAP | Time-Weighted Average Price | 時間加權平均價格 | 交易執行策略 |
| WAC | Weighted Average Cost | 加權平均成本 | 會計方法 |
| WS | WebSocket | WebSocket | 實時通信協議 |

---

## 🔍 使用指南

### **如何查找名詞**
1. **按分類查找**：根據名詞所屬領域選擇對應章節
2. **使用縮寫表**：快速查找縮寫的完整含義
3. **關鍵字搜索**：使用 Ctrl+F 搜索特定術語

### **如何理解概念**
1. **先看定義**：了解基本含義
2. **查看應用**：了解在 Project Chimera 中的具體應用
3. **參考相關**：查看相關概念和術語
4. **實作細節**：參考具體的技術文檔

### **如何擴展文檔**
1. **新增名詞**：按分類添加到對應章節
2. **更新定義**：根據系統演進更新定義
3. **添加例子**：提供更多實際應用例子
4. **完善縮寫表**：及時更新縮寫對照

---

## 📝 維護說明

- **更新頻率**：隨系統演進定期更新
- **版本控制**：使用 Git 進行版本管理
- **審核流程**：技術團隊共同審核
- **反饋機制**：歡迎提出改進建議

---

**最後更新**：2025年09月  
**維護者**：Project Chimera 技術團隊  
**聯繫方式**：通過項目 Issue 或 Pull Request 提出建議
